<div class="navbar">
    <div class="navbar-left">
        <button nz-button nzType="text" nzShape="circle" (click)="open()">
            <i nz-icon nzType="menu" nzTheme="outline"></i>
        </button>
        <span class="navbar-title">Spyder Blogs</span>
        <span nz-icon nzType="form" nzTheme="outline" style="font-size: 20px;"></span>
    </div>
    <div class="navbar-right">
        <button nz-button nzType="text">Login</button>
        <button nz-button nzType="primary">Register</button>
    </div>
</div>


<nz-drawer [nzClosable]="true" [nzVisible]="visible" nzPlacement="left" nzTitle="Spyder Blogs" [nzWidth]="300" 
    (nzOnClose)="close()">
    <ng-container *nzDrawerContent>
        <ul *ngFor="let group of navigation" nz-menu nzMode="inline" [nzSelectable]="true">

            <div *ngIf="group.hasChildren; then thenSubmenu else elseMenuItem">
                Here is never showing
            </div>

            <ng-template #thenSubmenu>


                <li nz-submenu nzTitle={{group.title}} nzIcon={{group.icon}} >
                    <ul>

                        <div (click)="close()">

                            <li *ngFor="let child of group.children" nz-menu-item >{{child.title}}</li>
                        </div>
                        <!-- <li nz-menu-item>Option 6</li> -->
                    </ul>
                </li>

            </ng-template>

            <ng-template #elseMenuItem>
                <li nz-menu-item (click)="close()"> 
                    <span nz-icon nzType={{group.icon}} ></span>
                    <span>
                        {{group.title}}
                    </span>
                </li>
            </ng-template>

            <!-- <li nz-submenu nzTitle="Navigation One" nzIcon="account-book" nzOpen>
                <ul>
                    <li nz-menu-group nzTitle="Item 1">
                        <ul>
                            <li nz-menu-item nzSelected>Option 1</li>
                            <li nz-menu-item>Option 2</li>
                        </ul>
                    </li>
                    <li nz-menu-group nzTitle="Item 2">
                        <ul>
                            <li nz-menu-item>Option 3</li>
                            <li nz-menu-item>Option 4</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li nz-submenu nzTitle="Navigation Two" nzIcon="appstore">
                <ul>
                    <li nz-menu-item>Option 5</li>
                    <li nz-menu-item>Option 6</li>
                    <li nz-submenu nzTitle="Submenu">
                        <ul>
                            <li nz-menu-item>Option 7</li>
                            <li nz-menu-item>Option 8</li>
                            <li nz-submenu nzTitle="Submenu">
                                <ul>
                                    <li nz-menu-item>Option 9</li>
                                    <li nz-menu-item>Option 10</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li nz-submenu nzTitle="Navigation Three" nzIcon="setting">
                <ul>
                    <li nz-menu-item>Option 11</li>
                    <li nz-menu-item>Option 12</li>
                    <li nz-menu-item>Option 13</li>
                </ul>
            </li>
        </ul> -->
        </ul>
    </ng-container>
</nz-drawer>